{# --- Pagination --- #} {% if total_pages > 1 %}
<ul class="pagination pagination-rounded pagination-boxed justify-content-center">
  {# Previous Page Link #}
  <li class="page-item {% if page == 1 %}disabled{% endif %}">
    <a class="page-link" href="{{ url_for(request.endpoint, page=page-1, **filters) }}" aria-label="Previous">
      <span aria-hidden="true">«</span>
    </a>
  </li>

  {# --- Dynamic Page Number Links --- #} {% set window = 2 %} {% set show_ellipsis_start = page > window + 2 %} {% set
  show_ellipsis_end = page < total_pages - (window + 1) %} {# First page #}
  <li class="page-item {% if 1 == page %}active{% endif %}">
    <a class="page-link" href="{{ url_for(request.endpoint, page=1, **filters) }}">1</a>
  </li>

  {# Start ellipsis #} {% if show_ellipsis_start %}
  <li class="page-item disabled"><span class="page-link">...</span></li>
  {% endif %} {# Pages around current page #} {% for p in range(1, total_pages + 1) %} {% if p > 1 and p < total_pages
  and p >= page - window and p <= page + window %}
  <li class="page-item {% if p == page %}active{% endif %}">
    <a class="page-link" href="{{ url_for(request.endpoint, page=p, **filters) }}">{{ p }}</a>
  </li>
  {% endif %} {% endfor %} {# End ellipsis #} {% if show_ellipsis_end %}
  <li class="page-item disabled"><span class="page-link">...</span></li>
  {% endif %} {# Last page #} {% if total_pages > 1 %}
  <li class="page-item {% if total_pages == page %}active{% endif %}">
    <a class="page-link" href="{{ url_for(request.endpoint, page=total_pages, **filters) }}">{{ total_pages }}</a>
  </li>
  {% endif %} {# Next Page Link #}
  <li class="page-item {% if page == total_pages %}disabled{% endif %}">
    <a class="page-link" href="{{ url_for(request.endpoint, page=page+1, **filters) }}" aria-label="Next">
      <span aria-hidden="true">»</span>
    </a>
  </li>
</ul>
{% endif %}
